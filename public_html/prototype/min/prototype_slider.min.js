$(".slider").each(function(){function n(n){var t,s;e(),i.is(":animated")||a===n||(l[a].removeClass("active"),l[n].addClass("active"),n>a?(s="100%",t="-100%"):(s="-100%",t="100%"),o.eq(n).css({left:s,display:"block"}),i.animate({left:t},function(){o.eq(a).css({display:"none"}),o.eq(n).css({left:0}),i.css({left:0}),a=n}))}function e(){clearTimeout(t),t=setTimeout(function(){a<o.length-1?n(a+1):n(0)},4e3)}var t,s=$(this),i=s.find(".slide-group"),o=s.find(".slide"),l=[],a=0;$.each(o,function(e){var t=$('<button type ="button" class="slide-btn">&bull;</button>');e===a&&t.addClass("active"),t.on("click",function(){n(e)}).appendTo(".slide-buttons"),l.push(t)}),e();var c=document.getElementById("slider"),u=new Hammer(c);u.on("panright",function(e){console.log(e),n(a-1)}),u.on("panleft",function(e){console.log(e),n(a+1)})});